(window.webpackJsonp=window.webpackJsonp||[]).push([[52,5],{375:function(t,e,n){var content=n(378);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("5c5941e6",content,!0,{sourceMap:!1})},376:function(t,e,n){"use strict";n.r(e);n(48);var o=n(35),r={props:{href:String,modal:String,label:String,variant:{type:String,default:"primary"},loader:Boolean,size:{type:String,validator:function(t){return["sm","lg"].includes(t)}}},methods:{maybeOpenModal:function(){this.modal&&this.$store.commit("ui/toggleModal",this.modal)}},computed:{usedComponent:function(){if(this.href){if(Object(o.startsWith)(this.href,"/"))return{name:"nuxt-link",props:{to:this.href}};var t="_blank";return Object(o.startsWith)(this.href,"#")&&(t=null),{name:"a",props:{href:this.href,target:t}}}return{name:"button"}}}},c=(n(377),n(5)),component=Object(c.a)(r,(function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o(e.usedComponent.name,e._g(e._b({tag:"component",staticClass:"btn-travel",class:(t={},t["btn-"+e.variant]=e.variant,t["btn-"+e.size]=e.size,t),on:{click:e.maybeOpenModal}},"component",e.usedComponent.props,!1),e.$listeners),[e._t("default",(function(){return[e.loader?o("div",{staticClass:"d-inline-flex align-items-center"},[o("div",{staticClass:"button-label"},[e._v("Laden...")]),e._v(" "),o("BaseIcon",{staticClass:"ms-1",attrs:{icon:"spinner",spin:""}})],1):o("div",{staticClass:"button-label"},[e._v("\n      "+e._s(e.label)+"\n    ")])]}))],2)}),[],!1,null,"1c13ed22",null);e.default=component.exports;installComponents(component,{BaseIcon:n(249).default})},377:function(t,e,n){"use strict";n(375)},378:function(t,e,n){var o=n(32)(!1);o.push([t.i,".btn-swiper[data-v-1c13ed22]{background:transparent;padding:0;border:none;color:#5c5e16;display:flex;align-items:center;outline:0}",""]),t.exports=o},476:function(t,e,n){var content=n(520);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("48561e55",content,!0,{sourceMap:!1})},512:function(t,e,n){t.exports=n.p+"img/dashboard.d4087f0.jpg"},513:function(t,e,n){t.exports=n.p+"img/bookmark(2).e4ffc78.png"},514:function(t,e,n){t.exports=n.p+"img/bookmark.dc4c3b7.png"},519:function(t,e,n){"use strict";n(476)},520:function(t,e,n){var o=n(32)(!1);o.push([t.i,"body[data-v-2e5658b5]{background-color:#888;position:relative}.image--dashboard .photo[data-v-2e5658b5]{height:15rem;-o-object-fit:cover;object-fit:cover}.search[data-v-2e5658b5]{background-color:#e5cf84;padding:1rem 2rem;border:none;border-radius:25px}.search[data-v-2e5658b5]:hover{background-color:#97cf9f}.place[data-v-2e5658b5]{border-bottom:1px solid #888;padding-left:1rem;position:relative}.place__name[data-v-2e5658b5]{font-weight:700;font-size:1.2rem;align-items:center}.place__name .tag[data-v-2e5658b5]{background-color:#000;color:#fff;padding:.5rem 1rem;margin-left:1rem;border-radius:25px;font-size:.8rem;font-weight:300;margin-right:2rem}.place__name .icon[data-v-2e5658b5]{transform:rotate(-180deg);color:#000;transition:all .15s ease-out}.place__name.collapsed .icon[data-v-2e5658b5]{color:grey;transform:rotate(0)}.place .bookmark[data-v-2e5658b5]{width:25px;height:25px;cursor:pointer;position:absolute;right:0;top:2rem}.likedPlace[data-v-2e5658b5]{margin-bottom:5rem}.likedPlace__list[data-v-2e5658b5]{margin:2rem 0;padding-left:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid grey}.likedPlace__list .bookmark[data-v-2e5658b5]{width:25px;height:25px;cursor:pointer}.maps[data-v-2e5658b5]{display:block}@media (min-width:720px){.maps[data-v-2e5658b5]{position:fixed;right:0}}",""]),t.exports=o},597:function(t,e,n){"use strict";n.r(e);var o=n(6),r=(n(34),n(37),n(17),n(38),n(515)),c=(n(589),n(592)),l={apiKey:"AIzaSyDZ588Uw349mjqlB14un1EqiIny9kNLRXc",authDomain:"travel-a3f9b.firebaseapp.com",databaseURL:"https://travel-a3f9b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"travel-a3f9b",storageBucket:"travel-a3f9b.appspot.com",messagingSenderId:"312953216388",appId:"1:312953216388:web:9bf151baf2433832e491d1",measurementId:"G-4VJ0328ZDM"};function d(){return(d=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(c.a)(e,"locations"),t.next=3,Object(c.d)(n);case 3:return o=t.sent,r=o.docs.map((function(t){return t.data()})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v={data:function(){return{detail:null,query:"",locationList:[],results:[],musea:"musea",restaurants:"restaurants",activities:"activities",db:null}},computed:{activeLocation:function(){var t;return null===(t=this.$store.state)||void 0===t?void 0:t.activeLocation},collapseId:function(){return"content".concat(this._uid)}},created:function(){var t=this,e=Object(r.a)(l);this.db=Object(c.e)(e),function(t){return d.apply(this,arguments)}(this.db).then((function(e){t.locationList=e}))},mounted:function(){this.activeLocation||(window.location="/")},methods:{toggleLikePlace:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.locationList,o={id:t.place_id,formattedAddress:t.formatted_address,name:t.name},n.next=4,Object(c.f)(Object(c.c)(e.db,"locations",o.id),o);case 4:n.sent,e.locationList.push(o);case 6:case"end":return n.stop()}}),n)})))()},toggleUnLikePlace:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.b)(Object(c.c)(e.db,"locations",t.id));case 2:n.sent,e.locationList=e.locationList.filter((function(e){return e.id!==t.id}));case 4:case"end":return n.stop()}}),n)})))()},loadDetails:function(t){var e=this,n={placeId:t},map=this.$refs.map.$mapObject;new google.maps.places.PlacesService(map).getDetails(n,(function(t){e.detail=t}))},findPlaces:function(){var t=this,e={location:this.activeLocation.geometry.location,radius:"1000",query:this.query},map=this.$refs.map.$mapObject;new google.maps.places.PlacesService(map).textSearch(e,(function(e){t.results=e}))},findMusea:function(){var t=this,e={location:this.activeLocation.geometry.location,radius:"1000",query:this.musea},map=this.$refs.map.$mapObject;new google.maps.places.PlacesService(map).textSearch(e,(function(e){t.results=e}))},findRestaurants:function(){var t=this,e={location:this.activeLocation.geometry.location,radius:"1000",query:this.restaurants},map=this.$refs.map.$mapObject;new google.maps.places.PlacesService(map).textSearch(e,(function(e){t.results=e}))},findActivities:function(){var t=this,e={location:this.activeLocation.geometry.location,radius:"1000",query:this.activities},map=this.$refs.map.$mapObject;new google.maps.places.PlacesService(map).textSearch(e,(function(e){t.results=e}))},signOut:function(){this.$fire.auth.signOut(),window.location="/login"}}},m=(n(519),n(5)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("button",{attrs:{color:"primary"},on:{click:function(e){return t.signOut()}}},[t._v("Sign Out")]),t._v(" "),t.activeLocation?o("div",{staticClass:"d-md-flex"},[o("div",{staticClass:"col-12 col-md-8"},[o("div",{staticClass:"image--dashboard"},[o("img",{key:"",staticClass:"photo w-100",attrs:{src:n(512)}})]),t._v(" "),o("div",{staticClass:"underline d-flex justify-content-center pt-3"},[o("h2",{staticClass:"underline__text"},[t._v("Trip To "+t._s(t.activeLocation.name))])]),t._v(" "),o("div",{staticClass:"mt-5 px-5"},[o("h3",[t._v("Explore")]),t._v(" "),o("div",{staticClass:"d-flex justify-content-between py-5"},[o("div",{staticClass:"row"},[o("div",{staticClass:"musea",on:{click:t.findMusea}},[o("button",{staticClass:"search"},[t._v("\n                Search musea in "+t._s(t.activeLocation.name)+"\n              ")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"restaurants",on:{click:t.findRestaurants}},[o("button",{staticClass:"search"},[t._v("\n                Search restaurants in "+t._s(t.activeLocation.name)+"\n              ")])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"activities",on:{click:t.findActivities}},[o("button",{staticClass:"search"},[t._v("\n                Search Activities in "+t._s(t.activeLocation.name)+"\n              ")])])])])]),t._v(" "),o("div",{staticClass:"mt-5 p-5"},[o("h3",{staticClass:"pb-5"},[t._v("Search")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",placeholder:"e.g. pubs"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),o("BaseButton",{staticClass:"search",attrs:{label:"Search"},on:{click:t.findPlaces}})],1)]),t._v(" "),o("div",{staticClass:"mt-5 px-5"},[o("h3",{staticClass:"pb-5"},[t._v("Places to visit")]),t._v(" "),o("div",[o("ol",{attrs:{id:"details"}},t._l(t.results,(function(e,r){return o("li",{key:e.name,staticClass:"place py-3",on:{click:function(n){return t.loadDetails(e.place_id)}}},[o("div",{staticClass:"place__name d-flex text-center collapsed",attrs:{"data-bs-toggle":"collapse","data-bs-target":"#"+t.collapseId+"-"+r}},[o("div",[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),o("div",{staticClass:"tag"},[t._v("\n                  "+t._s(e.types[0])+"\n                ")]),t._v(" "),o("BaseIcon",{staticClass:"icon",attrs:{icon:"angle-down"}})],1),t._v(" "),o("img",{staticClass:"bookmark",attrs:{src:n(513)},on:{click:function(n){return t.toggleLikePlace(e)}}}),t._v(" "),o("div",{staticClass:"collapse py-2",attrs:{id:t.collapseId+"-"+r,"data-bs-parent":"#details"}},[o("p",[o("strong",{staticClass:"pe-2"},[t._v("Rating:")]),t._v(" "+t._s(e.rating)+"\n                  "),o("BaseIcon",{attrs:{icon:"star",variant:"secondary"}})],1),t._v(" "),o("p",[o("strong",{staticClass:"pe-2"},[t._v("Address:")]),t._v("\n                  "+t._s(e.formatted_address)+"\n                ")]),t._v(" "),t.detail?o("p",[o("strong",{staticClass:"pe-2"},[t._v("Telephone:")]),t._v(" "),o("a",{attrs:{href:"tel:"+t.detail.formatted_phone_number}}),t._v("\n                  "+t._s(t.detail.formatted_phone_number)+"\n                ")]):t._e(),t._v(" "),t.detail?o("p",[o("strong",{staticClass:"pe-2"},[t._v("Website:")]),t._v(" "),o("a",{attrs:{href:t.detail.website}},[t._v(" "+t._s(t.detail.website))]),t._v("\n                  >\n                ")]):t._e()])])})),0)])]),t._v(" "),o("div",{staticClass:"mt-5 pt-5 px-5 likedPlace"},[o("h3",{},[t._v("Bookmarked places")]),t._v(" "),o("ul",t._l(t.locationList,(function(e,r){return o("li",{key:r,staticClass:"likedPlace__list py-3"},[o("div",[o("div",[o("strong",[t._v("\n                  "+t._s(e.name)+"\n                ")])]),t._v(" "),o("div",[t._v("\n                "+t._s(e.formattedAddress)+"\n              ")])]),t._v(" "),o("img",{staticClass:"bookmark",attrs:{src:n(514)},on:{click:function(n){return t.toggleUnLikePlace(e)}}})])})),0)])]),t._v(" "),o("div",{staticClass:"col-12 col-md-4 maps"},[t.activeLocation&&t.activeLocation.geometry?o("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"100vh"},attrs:{zoom:14,center:t.activeLocation.geometry.location}},t._l(t.results,(function(t,e){return o("gmap-marker",{key:e,attrs:{position:t.geometry.location}})})),1):t._e()],1)]):t._e()])}),[],!1,null,"2e5658b5",null);e.default=component.exports;installComponents(component,{BaseButton:n(376).default,BaseIcon:n(249).default})}}]);