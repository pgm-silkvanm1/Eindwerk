/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{515:function(t,e,n){"use strict";var r=n(381);n.d(e,"a",(function(){return r.initializeApp}));Object(r.registerVersion)("firebase","9.9.3","app")},517:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return c}));const r=function(t){const e=[];let p=0;for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e};function o(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function l(){return"object"==typeof indexedDB}function c(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function h(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class d extends Error{constructor(code,t,e){super(t),this.code=code,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(code,...data){const t=data[0]||{},e=`${this.service}/${code}`,template=this.errors[code],n=template?function(template,data){return template.replace(m,((t,e)=>{const n=data[e];return null!=n?String(n):`<${e}?>`}))}(template,t):"Error",r=`${this.serviceName}: ${n} (${e}).`;return new d(e,r,t)}}const m=/\{\$([^}]+)}/g;function y(a,b){if(a===b)return!0;const t=Object.keys(a),e=Object.keys(b);for(const n of t){if(!e.includes(n))return!1;const t=a[n],r=b[n];if(w(t)&&w(r)){if(!y(t,r))return!1}else if(t!==r)return!1}for(const n of e)if(!t.includes(n))return!1;return!0}function w(t){return null!==t&&"object"==typeof t}function v(t,e=1e3,n=2){const r=e*Math.pow(n,t),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}function _(t){return t&&t._delegate?t._delegate:t}}).call(this,n(44))},518:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return o}));const r=function(t){const e=[];let p=0;for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e};class o extends Error{constructor(code,t,e){super(t),this.code=code,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(code,...data){const t=data[0]||{},e=`${this.service}/${code}`,template=this.errors[code],n=template?function(template,data){return template.replace(c,((t,e)=>{const n=data[e];return null!=n?String(n):`<${e}?>`}))}(template,t):"Error",r=`${this.serviceName}: ${n} (${e}).`;return new o(e,r,t)}}const c=/\{\$([^}]+)}/g}).call(this,n(44))},589:function(t,e,n){"use strict";var r=n(381);const o=[];var l;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(l||(l={}));const c={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},h=l.INFO,d={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},f=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),o=d[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${t.name}:`,...n)};var m=n(517),y=n(382),w=n(518),v=n(493);const _="@firebase/installations",T="0.5.12",I=1e4,E="w:0.5.12",S="FIS_v2",k=36e5,A={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},N=new w.a("installations","Installations",A);function O(t){return t instanceof w.b&&t.code.includes("request-failed")}function D({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function F(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function P(t,e){const n=(await e.json()).error;return N.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function R({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V(t,{refreshToken:e}){const n=R(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}async function C(t){const e=await t();return e.status>=500&&e.status<600?t():e}function x(t){return new Promise((e=>{setTimeout(e,t)}))}const L=/^[cdef][\w-]{21}$/;function j(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return L.test(e)?e:""}catch(t){return""}}function $(t){return`${t.appName}!${t.appId}`}const M=new Map;function U(t,e){const n=$(t);B(n,e),function(t,e){const n=H();n&&n.postMessage({key:t,fid:e});K()}(n,e)}function B(t,e){const n=M.get(t);if(n)for(const t of n)t(e)}let z=null;function H(){return!z&&"BroadcastChannel"in self&&(z=new BroadcastChannel("[Firebase] FID Change"),z.onmessage=t=>{B(t.data.key,t.data.fid)}),z}function K(){0===M.size&&z&&(z.close(),z=null)}const G="firebase-installations-store";let W=null;function Q(){return W||(W=Object(v.a)("firebase-installations-database",1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(G)}}})),W}async function Y(t,e){const n=$(t),r=(await Q()).transaction(G,"readwrite"),o=r.objectStore(G),l=await o.get(n);return await o.put(e,n),await r.done,l&&l.fid===e.fid||U(t,e.fid),e}async function J(t){const e=$(t),n=(await Q()).transaction(G,"readwrite");await n.objectStore(G).delete(e),await n.done}async function X(t,e){const n=$(t),r=(await Q()).transaction(G,"readwrite"),o=r.objectStore(G),l=await o.get(n),c=e(l);return void 0===c?await o.delete(n):await o.put(c,n),await r.done,!c||l&&l.fid===c.fid||U(t,c.fid),c}async function Z(t){let e;const n=await X(t.appConfig,(n=>{const r=function(t){return nt(t||{fid:j(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(N.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=D(t),o=R(t),l=e.getImmediate({optional:!0});if(l){const t=await l.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const body={fid:n,authVersion:S,appId:t.appId,sdkVersion:E},c={method:"POST",headers:o,body:JSON.stringify(body)},h=await C((()=>fetch(r,c)));if(h.ok){const t=await h.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:F(t.authToken)}}throw await P("Create Installation",h)}(t,e);return Y(t.appConfig,n)}catch(n){throw O(n)&&409===n.customData.serverCode?await J(t.appConfig):await Y(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tt(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function tt(t){let e=await et(t.appConfig);for(;1===e.registrationStatus;)await x(100),e=await et(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Z(t);return n||e}return e}function et(t){return X(t,(t=>{if(!t)throw N.create("installation-not-found");return nt(t)}))}function nt(t){return 1===(e=t).registrationStatus&&e.registrationTime+I<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function it({appConfig:t,heartbeatServiceProvider:e},n){const r=function(t,{fid:e}){return`${D(t)}/${e}/authTokens:generate`}(t,n),o=V(t,n),l=e.getImmediate({optional:!0});if(l){const t=await l.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const body={installation:{sdkVersion:E,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(body)},h=await C((()=>fetch(r,c)));if(h.ok){return F(await h.json())}throw await P("Generate Auth Token",h)}async function st(t,e=!1){let n;const r=await X(t.appConfig,(r=>{if(!ot(r))throw N.create("not-registered");const o=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+k}(t)}(o))return r;if(1===o.requestStatus)return n=async function(t,e){let n=await at(t.appConfig);for(;1===n.authToken.requestStatus;)await x(100),n=await at(t.appConfig);const r=n.authToken;return 0===r.requestStatus?st(t,e):r}(t,e),r;{if(!navigator.onLine)throw N.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return n=async function(t,e){try{const n=await it(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Y(t.appConfig,r),n}catch(n){if(!O(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Y(t.appConfig,n)}else await J(t.appConfig);throw n}}(t,e),e}}));return n?await n:r.authToken}function at(t){return X(t,(t=>{if(!ot(t))throw N.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+I<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function ot(t){return void 0!==t&&2===t.registrationStatus}async function ut(t,e=!1){const n=t;await async function(t){const{registrationPromise:e}=await Z(t);e&&await e}(n);return(await st(n,e)).token}function lt(t){return N.create("missing-app-config-values",{valueName:t})}const ct="installations",ht=t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw lt("App Configuration");if(!t.name)throw lt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),heartbeatServiceProvider:Object(r._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},ft=t=>{const e=t.getProvider("app").getImmediate(),n=Object(r._getProvider)(e,ct).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await Z(e);return r?r.catch(console.error):st(e).catch(console.error),n.fid}(n),getToken:t=>ut(n,t)}};Object(r._registerComponent)(new y.a(ct,ht,"PUBLIC")),Object(r._registerComponent)(new y.a("installations-internal",ft,"PRIVATE")),Object(r.registerVersion)(_,T),Object(r.registerVersion)(_,T,"esm2017");const pt="analytics",mt="https://www.googletagmanager.com/gtag/js",gt=new class{constructor(t){this.name=t,this._logLevel=h,this._logHandler=f,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in l))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?c[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...t),this._logHandler(this,l.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...t),this._logHandler(this,l.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,l.INFO,...t),this._logHandler(this,l.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,l.WARN,...t),this._logHandler(this,l.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...t),this._logHandler(this,l.ERROR,...t)}}("@firebase/analytics");function yt(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function wt(t,e,n,r){return async function(o,l,c){try{"event"===o?await async function(t,e,n,r,o){try{let l=[];if(o&&o.send_to){let t=o.send_to;Array.isArray(t)||(t=[t]);const r=await yt(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),o=t&&e[t.appId];if(!o){l=[];break}l.push(o)}}0===l.length&&(l=Object.values(e)),await Promise.all(l),t("event",r,o||{})}catch(t){gt.error(t)}}(t,e,n,l,c):"config"===o?await async function(t,e,n,r,o,l){const c=r[o];try{if(c)await e[c];else{const t=(await yt(n)).find((t=>t.measurementId===o));t&&await e[t.appId]}}catch(t){gt.error(t)}t("config",o,l)}(t,e,n,r,l,c):"consent"===o?t("consent","update",c):t("set",l)}catch(t){gt.error(t)}}}const vt={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},bt=new m.a("analytics","Analytics",vt);const _t=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Tt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function It(t,e=_t,n){const{appId:r,apiKey:o,measurementId:l}=t.options;if(!r)throw bt.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw bt.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new St;return setTimeout((async()=>{h.abort()}),void 0!==n?n:6e4),Et({appId:r,apiKey:o,measurementId:l},c,h,e)}async function Et(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=_t){var l,c;const{appId:h,measurementId:d}=t;try{await function(t,e){return new Promise(((n,r)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(n,o);t.addEventListener((()=>{clearTimeout(l),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(r,e)}catch(t){if(d)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${null===(l=t)||void 0===l?void 0:l.message}]`),{appId:h,measurementId:d};throw t}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:Tt(r)},l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),c=await fetch(l,o);if(200!==c.status&&304!==c.status){let t="";try{const n=await c.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(t){}throw bt.create("config-fetch-failed",{httpStatus:c.status,responseMessage:t})}return c.json()}(t);return o.deleteThrottleMetadata(h),e}catch(e){const l=e;if(!function(t){if(!(t instanceof m.b&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(o.deleteThrottleMetadata(h),d)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:h,measurementId:d};throw e}const f=503===Number(null===(c=null==l?void 0:l.customData)||void 0===c?void 0:c.httpStatus)?Object(m.d)(n,o.intervalMillis,30):Object(m.d)(n,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return o.setThrottleMetadata(h,y),gt.debug(`Calling attemptFetch again in ${f} millis`),Et(t,y,r,o)}}class St{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let kt,At;function Nt(t){At=t}function Ot(t){kt=t}async function Dt(t,e,n,r,o,l,c){var h;const d=It(t);d.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>gt.error(t))),e.push(d);const f=async function(){var t;if(!Object(m.h)())return gt.warn(bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Object(m.i)()}catch(e){return gt.warn(bt.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?r.getId():void 0)),[y,w]=await Promise.all([d,f]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(mt))return e;return null})()||function(t,e){const script=document.createElement("script");script.src=`${mt}?l=${t}&id=${e}`,script.async=!0,document.head.appendChild(script)}(l,y.measurementId),At&&(o("consent","default",At),Nt(void 0)),o("js",new Date);const v=null!==(h=null==c?void 0:c.config)&&void 0!==h?h:{};return v.origin="firebase",v.update=!0,null!=w&&(v.firebase_id=w),o("config",y.measurementId,v),kt&&(o("set",kt),Ot(void 0)),y.measurementId}class Ft{constructor(t){this.app=t}_delete(){return delete Pt[this.app.options.appId],Promise.resolve()}}let Pt={},Rt=[];const Vt={};let Ct,xt,Lt="dataLayer",jt="gtag",$t=!1;function Mt(t,e,n){!function(){const t=[];if(Object(m.g)()&&t.push("This is a browser extension environment."),Object(m.c)()||t.push("Cookies are not available."),t.length>0){const details=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),e=bt.create("invalid-analytics-context",{errorInfo:details});gt.warn(e.message)}}();const r=t.options.appId;if(!r)throw bt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bt.create("no-api-key");gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pt[r])throw bt.create("already-exists",{id:r});if(!$t){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Lt);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,o){let l=function(...t){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(l=window[o]),window[o]=wt(l,t,e,n),{gtagCore:l,wrappedGtag:window[o]}}(Pt,Rt,Vt,Lt,jt);xt=t,Ct=e,$t=!0}Pt[r]=Dt(t,Rt,Vt,e,Ct,Lt,n);return new Ft(t)}function qt(t,e,n,r){t=Object(m.f)(t),async function(t,e,n,r,o){if(o&&o.global)t("event",n,r);else{const o=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}(xt,Pt[t.app.options.appId],e,n,r).catch((t=>gt.error(t)))}const Ut="@firebase/analytics",Bt="0.8.0";Object(r._registerComponent)(new y.a(pt,((t,{options:e})=>Mt(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),Object(r._registerComponent)(new y.a("analytics-internal",(function(t){try{const e=t.getProvider(pt).getImmediate();return{logEvent:(t,n,r)=>qt(e,t,n,r)}}catch(t){throw bt.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Object(r.registerVersion)(Ut,Bt),Object(r.registerVersion)(Ut,Bt,"esm2017")},592:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ce})),n.d(e,"b",(function(){return hn})),n.d(e,"c",(function(){return xe})),n.d(e,"d",(function(){return ln})),n.d(e,"e",(function(){return Fe})),n.d(e,"f",(function(){return cn}));var r=n(381),o=n(382),l=n(474),c=n(475);class h{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}h.UNAUTHENTICATED=new h(null),h.GOOGLE_CREDENTIALS=new h("google-credentials-uid"),h.FIRST_PARTY=new h("first-party-uid"),h.MOCK_USER=new h("mock-user");let d="9.9.2";const f=new l.b("@firebase/firestore");function m(t,...e){if(f.logLevel<=l.a.DEBUG){const n=e.map(w);f.debug(`Firestore (${d}): ${t}`,...n)}}function p(t,...e){if(f.logLevel<=l.a.ERROR){const n=e.map(w);f.error(`Firestore (${d}): ${t}`,...n)}}function y(t,...e){if(f.logLevel<=l.a.WARN){const n=e.map(w);f.warn(`Firestore (${d}): ${t}`,...n)}}function w(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function g(t="Unexpected state"){const e=`FIRESTORE (${d}) INTERNAL ASSERTION FAILED: `+t;throw p(e),new Error(e)}function v(t,e){t||g()}function b(t,e){return t}const _="cancelled",T="unknown",I="invalid-argument",E="deadline-exceeded",S="not-found",k="permission-denied",A="unauthenticated",N="resource-exhausted",O="failed-precondition",D="aborted",F="out-of-range",q="unimplemented",P="internal",R="unavailable";class V extends c.a{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class C{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(h.UNAUTHENTICATED)))}shutdown(){}}class L{constructor(t){this.auth=null,t.onInit((t=>{this.auth=t}))}getToken(){return this.auth?this.auth.getToken().then((t=>t?(v("string"==typeof t.accessToken),new C(t.accessToken,new h(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(t,e){}shutdown(){}}class j{constructor(t,e,n){this.type="FirstParty",this.user=h.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ${constructor(t,e,n){this.t=t,this.i=e,this.o=n}getToken(){return Promise.resolve(new j(this.t,this.i,this.o))}start(t,e){t.enqueueRetryable((()=>e(h.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U{constructor(t){this.u=t,this.appCheck=null,t.onInit((t=>{this.appCheck=t}))}getToken(){return this.appCheck?this.appCheck.getToken().then((t=>t?(v("string"==typeof t.token),new M(t.token)):null)):Promise.resolve(null)}invalidateToken(){}start(t,e){}shutdown(){}}class B{constructor(t,e,n,r,s,i,o,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.useFetchStreams=u}}class z{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new z("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof z&&t.projectId===this.projectId&&t.database===this.database}}class H{constructor(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===H.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof H?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),s=e.get(r);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class K extends H{construct(t,e,n){return new K(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new V(I,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new K(e)}static emptyPath(){return new K([])}}const G=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class W extends H{construct(t,e,n){return new W(t,e,n)}static isValidIdentifier(t){return G.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),W.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new W(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const s=()=>{if(0===n.length)throw new V(I,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let i=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new V(I,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new V(I,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(i=!i,r++):"."!==e||i?(n+=e,r++):(s(),r++)}if(s(),i)throw new V(I,"Unterminated ` in path: "+t);return new W(e)}static emptyPath(){return new W([])}}class Q{constructor(t){this.path=t}static fromPath(t){return new Q(K.fromString(t))}static fromName(t){return new Q(K.fromString(t).popFirst(5))}static empty(){return new Q(K.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===K.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return K.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new K(t.slice()))}}function Y(t,e,n){if(!n)throw new V(I,`Function ${t}() cannot be called with an empty ${e}.`)}function rt(t){if(!Q.isDocumentKey(t))throw new V(I,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J(t){if(Q.isDocumentKey(t))throw new V(I,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":g()}function Z(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(I,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=X(t);throw new V(I,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tt(t){return null==t}function et(t){return 0===t&&1/t==-1/0}const nt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};var it,st;function dt(t){if(void 0===t)return p("RPC_ERROR","HTTP error has no status"),T;switch(t){case 200:return"ok";case 400:return O;case 401:return A;case 403:return k;case 404:return S;case 409:return D;case 416:return F;case 429:return N;case 499:return _;case 500:return T;case 501:return q;case 503:return R;case 504:return E;default:return t>=200&&t<300?"ok":t>=400&&t<500?O:t>=500&&t<600?P:T}}(st=it||(it={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";class at extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.h=e+"://"+t.host,this.l="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}m(t,e,n,r,s){const i=this.p(t,e);m("RestConnection","Sending: ",i,n);const o={};return this.g(o,r,s),this.v(t,i,o,n).then((t=>(m("RestConnection","Received: ",t),t)),(e=>{throw y("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e}))}T(t,e,n,r,s,i){return this.m(t,e,n,r,s)}g(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+d,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}p(t,e){const n=nt[t];return`${this.h}/v1/${e}:${n}`}}{constructor(t,e){super(t),this.I=e}A(t,e){throw new Error("Not supported by FetchConnection")}async v(t,e,n,r){const s=JSON.stringify(r);let i;try{i=await this.I(e,{method:"POST",headers:n,body:s})}catch(t){throw new V(dt(t.status),"Request failed with error: "+t.statusText)}if(!i.ok)throw new V(dt(i.status),"Request failed with error: "+i.statusText);return i.json()}}function ot(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class ut{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=ot(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<e&&(n+=t.charAt(r[s]%t.length))}return n}}function lt(t,e){return t<e?-1:t>e?1:0}function ct(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class ht{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new V(I,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new V(I,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new V(I,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(I,"Timestamp seconds out of range: "+t)}static now(){return ht.fromMillis(Date.now())}static fromDate(t){return ht.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ht(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ft(t)}static min(){return new ft(new ht(0,0))}static max(){return new ft(new ht(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pt(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mt(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class gt{constructor(t,e){this.comparator=t,this.root=e||wt.EMPTY}insert(t,e){return new gt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(t){return new gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wt.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yt(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yt(this.root,t,this.comparator,!1)}getReverseIterator(){return new yt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yt(this.root,t,this.comparator,!0)}}class yt{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wt{constructor(t,e,n,r,s){this.key=t,this.value=e,this.color=null!=n?n:wt.RED,this.left=null!=r?r:wt.EMPTY,this.right=null!=s?s:wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,s){return new wt(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return wt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();const t=this.left.check();if(t!==this.right.check())throw g();return t+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1,wt.EMPTY=new class{constructor(){this.size=0}get key(){throw g()}get value(){throw g()}get color(){throw g()}get left(){throw g()}get right(){throw g()}copy(t,e,n,r,s){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vt{constructor(t){this.comparator=t,this.data=new gt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bt(this.data.getIterator())}getIteratorFrom(t){return new bt(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof vt))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new vt(this.comparator);return e.data=t,e}}class bt{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _t{constructor(t){this.fields=t,t.sort(W.comparator)}static empty(){return new _t([])}unionWith(t){let e=new vt(W.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new _t(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ct(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Tt{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Tt(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Tt(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const It=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Et(t){if(v(!!t),"string"==typeof t){let e=0;const n=It.exec(t);if(v(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function kt(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function At(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nt(t){const e=t.mapValue.fields.__previous_value__;return At(e)?Nt(e):e}function Ot(t){const e=Et(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}function Dt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?At(t)?4:function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?9007199254740991:10:g()}function Ft(t,e){if(t===e)return!0;const n=Dt(t);if(n!==Dt(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ot(t).isEqual(Ot(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Et(t.timestampValue),r=Et(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return kt(t.bytesValue).isEqual(kt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return St(t.geoPointValue.latitude)===St(e.geoPointValue.latitude)&&St(t.geoPointValue.longitude)===St(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return St(t.integerValue)===St(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=St(t.doubleValue),r=St(e.doubleValue);return n===r?et(n)===et(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ct(t.arrayValue.values||[],e.arrayValue.values||[],Ft);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pt(n)!==pt(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!Ft(n[t],r[t])))return!1;return!0}(t,e);default:return g()}}function Pt(t){return!!t&&"nullValue"in t}function Rt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vt(t){return!!t&&"mapValue"in t}function Ct(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mt(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ct(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ct(t.arrayValue.values[n]);return e}return Object.assign({},t)}class xt{constructor(t){this.value=t}static empty(){return new xt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Vt(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ct(e)}setAll(t){let e=W.emptyPath(),n={},r=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=s.popLast()}t?n[s.lastSegment()]=Ct(t):r.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,n,r)}delete(t){const e=this.field(t.popLast());Vt(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ft(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Vt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){mt(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new xt(Ct(this.value))}}class Lt{constructor(t,e,n,r,s,i){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.data=s,this.documentState=i}static newInvalidDocument(t){return new Lt(t,0,ft.min(),ft.min(),xt.empty(),0)}static newFoundDocument(t,e,n){return new Lt(t,1,e,ft.min(),n,0)}static newNoDocument(t,e){return new Lt(t,2,e,ft.min(),xt.empty(),0)}static newUnknownDocument(t,e){return new Lt(t,3,e,ft.min(),xt.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Lt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jt{constructor(t,e=null,n=[],r=[],s=null,i=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.P=null}}function $t(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jt(t,e,n,r,s,i,o)}class Mt{constructor(t,e){this.position=t,this.inclusive=e}}class qt{constructor(t,e="asc"){this.field=t,this.dir=e}}class Ut{constructor(t,e=null,n=[],r=[],s=null,i="F",o=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=u,this.$=null,this.F=null,this.startAt,this.endAt}}function Bt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zt(t){for(const e of t.filters)if(e.D())return e.field;return null}function Ht(t){const e=b(t);if(null===e.$){e.$=[];const t=zt(e),n=Bt(e);if(null!==t&&null===n)t.isKeyField()||e.$.push(new qt(t)),e.$.push(new qt(W.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.$.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.$.push(new qt(W.keyField(),t))}}}return e.$}function Kt(t){const e=b(t);if(!e.F)if("F"===e.limitType)e.F=$t(e.path,e.collectionGroup,Ht(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of Ht(e)){const e="desc"===n.dir?"asc":"desc";t.push(new qt(n.field,e))}const n=e.endAt?new Mt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mt(e.startAt.position,e.startAt.inclusive):null;e.F=$t(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.F}function Gt(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!et(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?function(t){return{integerValue:""+t}}(e):function(t,e){if(t.S){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:et(e)?"-0":e}}(t,e)}class Wt{constructor(){this._=void 0}}class Qt extends Wt{}class Yt extends Wt{constructor(t){super(),this.elements=t}}class Jt extends Wt{constructor(t){super(),this.elements=t}}class Xt extends Wt{constructor(t,e){super(),this.q=t,this.O=e}}class Zt{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zt}static exists(t){return new Zt(void 0,t)}static updateTime(t){return new Zt(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}class te{}class ee extends te{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ne extends te{constructor(t,e,n,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}class re extends te{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ie extends te{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}const se={asc:"ASCENDING",desc:"DESCENDING"},ae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class oe{constructor(t,e){this.databaseId=t,this.S=e}}function ue(t,e){return t.S?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function le(t,e){return t.S?e.toBase64():e.toUint8Array()}function ce(t,e){return ue(t,e.toTimestamp())}function he(t){return v(!!t),ft.fromTimestamp(function(t){const e=Et(t);return new ht(e.seconds,e.nanos)}(t))}function de(t,e){return function(t){return new K(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function fe(t,e){return de(t.databaseId,e.path)}function pe(t,e){const n=function(t){const e=K.fromString(t);return v(Te(e)),e}(e);if(n.get(1)!==t.databaseId.projectId)throw new V(I,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(I,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q((v((r=n).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function me(t,e){return de(t.databaseId,e)}function ge(t){return new K(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ye(t,e,n){return{name:fe(t,e),fields:n.value.mapValue.fields}}function we(t){return se[t]}function ve(t){return ae[t]}function be(t){return{fieldPath:t.canonicalString()}}function _e(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Te(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ie(t){return new oe(t,!0)}class Ee extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.H=n,this.q=r,this.J=!1}X(){if(this.J)throw new V(O,"The client has already been terminated.")}m(t,e,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.H.m(t,e,n,r,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===A&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new V(T,t.toString())}))}T(t,e,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,i])=>this.H.T(t,e,n,s,i,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===A&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new V(T,t.toString())}))}terminate(){this.J=!0}}async function Se(t,e){const n=b(t),r=ge(n.q)+"/documents",s={writes:e.map((t=>function(t,e){let n;if(e instanceof ee)n={update:ye(t,e.key,e.value)};else if(e instanceof re)n={delete:fe(t,e.key)};else if(e instanceof ne)n={update:ye(t,e.key,e.data),updateMask:_e(e.fieldMask)};else{if(!(e instanceof ie))return g();n={verify:fe(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Qt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jt)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xt)return{fieldPath:e.field.canonicalString(),increment:n.O};throw g()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ce(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.precondition)),n}(n.q,t)))};await n.m("Commit",r,s)}async function ke(t,e){const n=b(t),r=function(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=me(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=me(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Rt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NAN"}};if(Pt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NOT_NAN"}};if(Pt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:be(t.field),op:ve(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);s&&(n.structuredQuery.where=s);const i=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:be(t.field),direction:we(t.dir)}}(t)))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(t,e){return t.S||tt(e)?e:{value:e}}(t,e.limit);var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}(n.q,Kt(e));return(await n.T("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter((t=>!!t.document)).map((t=>function(t,e,n){const r=pe(t,e.name),s=he(e.updateTime),i=new xt({mapValue:{fields:e.fields}}),o=Lt.newFoundDocument(r,s,i);return o}(n.q,t.document)))}const Ae=new Map;function Ne(t){if(t._terminated)throw new V(O,"The client has already been terminated.");if(!Ae.has(t)){m("ComponentProvider","Initializing Datastore");const i=function(t){return new at(t,fetch.bind(null))}((e=t._databaseId,n=t.app.options.appId||"",r=t._persistenceKey,s=t._freezeSettings(),new B(e,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams))),o=Ie(t._databaseId),u=function(t,e,n,r){return new Ee(t,e,n,r)}(t._authCredentials,t._appCheckCredentials,i,o);Ae.set(t,u)}var e,n,r,s;return Ae.get(t)}class Oe{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new V(I,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new V(I,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new V(I,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class De{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oe({}),this._settingsFrozen=!1,t instanceof z?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new V(I,'"projectId" not provided in firebase.initializeApp.');return new z(t.options.projectId)}(t))}get app(){if(!this._app)throw new V(O,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new V(O,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oe(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new x;switch(t.type){case"gapi":const e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new $(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new V(I,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Ae.get(t);e&&(m("ComponentProvider","Removing Datastore"),Ae.delete(t),e.terminate())}(this),Promise.resolve()}}function Fe(t=Object(r.getApp)()){return Object(r._getProvider)(t,"firestore/lite").getImmediate()}class Pe{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ve(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}}class Re{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Re(this.firestore,t,this._query)}}class Ve extends Re{constructor(t,e,n){super(t,e,new Ut(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new Q(t))}withConverter(t){return new Ve(this.firestore,t,this._path)}}function Ce(t,e,...n){if(t=Object(c.d)(t),Y("collection","path",e),t instanceof De){const r=K.fromString(e,...n);return J(r),new Ve(t,null,r)}{if(!(t instanceof Pe||t instanceof Ve))throw new V(I,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(K.fromString(e,...n));return J(r),new Ve(t.firestore,null,r)}}function xe(t,e,...n){if(t=Object(c.d)(t),1===arguments.length&&(e=ut.R()),Y("doc","path",e),t instanceof De){const r=K.fromString(e,...n);return rt(r),new Pe(t,null,new Q(r))}{if(!(t instanceof Pe||t instanceof Ve))throw new V(I,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(K.fromString(e,...n));return rt(r),new Pe(t.firestore,t instanceof Ve?t.converter:null,new Q(r))}}class Le{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new V(I,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new W(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class je{constructor(t){this._byteString=t}static fromBase64String(t){try{return new je(Tt.fromBase64String(t))}catch(t){throw new V(I,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new je(Tt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class $e{constructor(t){this._methodName=t}}class Me{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new V(I,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new V(I,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}const qe=/^__.*__$/;class Ue{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ne(t,this.data,this.fieldMask,e,this.fieldTransforms):new ee(t,this.data,e,this.fieldTransforms)}}function Be(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}class ze{constructor(t,e,n,r,s,i){this.settings=t,this.databaseId=e,this.q=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Z(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get tt(){return this.settings.tt}et(t){return new ze(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.q,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.et({path:n,rt:!1});return r.st(t),r}it(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.et({path:n,rt:!1});return r.Z(),r}ot(t){return this.et({path:void 0,rt:!0})}ut(t){return en(t,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.at)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Z(){if(this.path)for(let t=0;t<this.path.length;t++)this.st(this.path.get(t))}st(t){if(0===t.length)throw this.ut("Document fields must not be empty");if(Be(this.tt)&&qe.test(t))throw this.ut('Document fields cannot begin and end with "__"')}}class He{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.q=n||Ie(t)}ht(t,e,n,r=!1){return new ze({tt:t,methodName:e,at:n,path:W.emptyPath(),rt:!1,ct:r},this.databaseId,this.q,this.ignoreUndefinedProperties)}}function Ke(t){const e=t._freezeSettings(),n=Ie(t._databaseId);return new He(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ge(t,e,n,r,s,i={}){const o=t.ht(i.merge||i.mergeFields?2:0,e,n,s);Je("Data must be an object, but it was:",o,r);const u=Qe(r,o);let l,a;if(i.merge)l=new _t(o.fieldMask),a=o.fieldTransforms;else if(i.mergeFields){const t=[];for(const r of i.mergeFields){const s=Xe(e,r,n);if(!o.contains(s))throw new V(I,`Field '${s}' is specified in your field mask but missing from your input data.`);nn(t,s)||t.push(s)}l=new _t(t),a=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,a=o.fieldTransforms;return new Ue(new xt(u),l,a)}function We(t,e){if(Ye(t=Object(c.d)(t)))return Je("Unsupported field value:",e,t),Qe(t,e);if(t instanceof $e)return function(t,e){if(!Be(e.tt))throw e.ut(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ut(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.rt&&4!==e.tt)throw e.ut("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const s of t){let t=We(s,e.ot(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(c.d)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gt(e.q,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ht.fromDate(t);return{timestampValue:ue(e.q,n)}}if(t instanceof ht){const n=new ht(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ue(e.q,n)}}if(t instanceof Me)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof je)return{bytesValue:le(e.q,t._byteString)};if(t instanceof Pe){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.ut(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:de(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ut(`Unsupported field value: ${X(t)}`)}(t,e)}function Qe(t,e){const n={};return function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mt(t,((t,r)=>{const s=We(r,e.nt(t));null!=s&&(n[t]=s)})),{mapValue:{fields:n}}}function Ye(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Me||t instanceof je||t instanceof Pe||t instanceof $e)}function Je(t,e,n){if(!Ye(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=X(n);throw"an object"===r?e.ut(t+" a custom object"):e.ut(t+" "+r)}}function Xe(t,e,n){if((e=Object(c.d)(e))instanceof Le)return e._internalPath;if("string"==typeof e)return tn(t,e);throw en("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ze=new RegExp("[~\\*/\\[\\]]");function tn(t,e,n){if(e.search(Ze)>=0)throw en(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Le(...e.split("."))._internalPath}catch(r){throw en(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function en(t,e,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new V(I,u+t+l)}function nn(t,e){return t.some((t=>t.isEqual(e)))}class rn{constructor(t,e,n,r,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new tr(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(an("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class tr extends rn{data(){return super.data()}}class sn{constructor(t,e){this._docs=e,this.query=t}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(t,e){this._docs.forEach(t,e)}}function an(t,e){return"string"==typeof e?tn(t,e):e instanceof Le?e._internalPath:e._delegate._internalPath}function on(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class un extends class{convertValue(t,e="none"){switch(Dt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return St(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(kt(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw g()}}convertObject(t,e){const n={};return mt(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Me(St(t.latitude),St(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Nt(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ot(t));default:return null}}convertTimestamp(t){const e=Et(t);return new ht(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=K.fromString(t);v(Te(n));const r=new z(n.get(1),n.get(3)),s=new Q(n.popFirst(5));return r.isEqual(e)||p(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new je(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,e)}}function ln(t){!function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(q,"limitToLast() queries require specifying at least one orderBy() clause")}((t=Z(t,Re))._query);const e=Ne(t.firestore),n=new un(t.firestore);return ke(e,t._query).then((e=>{const r=e.map((e=>new tr(t.firestore,n,e.key,e,t.converter)));return"L"===t._query.limitType&&r.reverse(),new sn(t,r)}))}function cn(t,e,n){const r=on((t=Z(t,Pe)).converter,e,n),s=Ge(Ke(t.firestore),"setDoc",t._key,r,null!==t.converter,n);return Se(Ne(t.firestore),[s.toMutation(t._key,Zt.none())])}function hn(t){return Se(Ne((t=Z(t,Pe)).firestore),[new re(t._key,Zt.none())])}var dn;dn=`${r.SDK_VERSION}_lite`,d=dn,Object(r._registerComponent)(new o.a("firestore/lite",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=new De(n,new L(t.getProvider("auth-internal")),new U(t.getProvider("app-check-internal")));return e&&r._setSettings(e),r}),"PUBLIC")),Object(r.registerVersion)("firestore-lite","3.4.14",""),Object(r.registerVersion)("firestore-lite","3.4.14","esm2017")}}]);